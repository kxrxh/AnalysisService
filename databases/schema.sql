CREATE TABLE analysis (
    id SERIAL PRIMARY KEY,
    date_time TIMESTAMP,
    product VARCHAR,
    color_rhs VARCHAR,
    id_user VARCHAR,
    telegram_link VARCHAR,
    text VARCHAR,
    file_source VARCHAR,
    scale_mm_pixel DOUBLE PRECISION,
    mass DOUBLE PRECISION,
    area DOUBLE PRECISION,
    r JSONB,
    g JSONB,
    b JSONB,
    h JSONB,
    s JSONB,
    v JSONB,
    lab_l JSONB,
    lab_a JSONB,
    lab_b JSONB,
    w JSONB,
    l JSONB,
    t JSONB,
    file_output VARCHAR,
    id_analysis VARCHAR
);

CREATE TABLE objects (
    id SERIAL PRIMARY KEY,
    id_analysis BIGINT REFERENCES analysis(id),
    file TEXT NULL,
    m_h DOUBLE PRECISION NULL,
    m_s DOUBLE PRECISION NULL,
    m_v DOUBLE PRECISION NULL,
    m_r DOUBLE PRECISION NULL,
    m_g DOUBLE PRECISION NULL,
    m_b DOUBLE PRECISION NULL,
    l_avg DOUBLE PRECISION NULL,
    w_avg DOUBLE PRECISION NULL,
    brt_avg DOUBLE PRECISION NULL,
    r_avg DOUBLE PRECISION NULL,
    g_avg DOUBLE PRECISION NULL,
    b_avg DOUBLE PRECISION NULL,
    h_avg DOUBLE PRECISION NULL,
    s_avg DOUBLE PRECISION NULL,
    v_avg DOUBLE PRECISION NULL,
    h DOUBLE PRECISION NULL,
    s DOUBLE PRECISION NULL,
    v DOUBLE PRECISION NULL,
    h_m DOUBLE PRECISION NULL,
    s_m DOUBLE PRECISION NULL,
    v_m DOUBLE PRECISION NULL,
    r_m DOUBLE PRECISION NULL,
    g_m DOUBLE PRECISION NULL,
    b_m DOUBLE PRECISION NULL,
    brt_m DOUBLE PRECISION NULL,
    w_m DOUBLE PRECISION NULL,
    l_m DOUBLE PRECISION NULL,
    l DOUBLE PRECISION NULL,
    w DOUBLE PRECISION NULL,
    l_w DOUBLE PRECISION NULL,
    pr DOUBLE PRECISION NULL,
    sq DOUBLE PRECISION NULL,
    brt DOUBLE PRECISION NULL,
    r DOUBLE PRECISION NULL,
    g DOUBLE PRECISION NULL,
    b DOUBLE PRECISION NULL,
    solid DOUBLE PRECISION NULL,
    min_h DOUBLE PRECISION NULL,
    min_s DOUBLE PRECISION NULL,
    min_v DOUBLE PRECISION NULL,
    max_h DOUBLE PRECISION NULL,
    max_s DOUBLE PRECISION NULL,
    max_v DOUBLE PRECISION NULL,
    entropy DOUBLE PRECISION NULL,
    id_image BIGINT NULL,
    color_rhs VARCHAR NULL,
    geometry VARCHAR NULL,
    sq_sqcrl DOUBLE PRECISION NULL,
    hu1 DOUBLE PRECISION NULL,
    hu2 DOUBLE PRECISION NULL,
    hu3 DOUBLE PRECISION NULL,
    hu4 DOUBLE PRECISION NULL,
    hu5 DOUBLE PRECISION NULL,
    hu6 DOUBLE PRECISION NULL,
    class VARCHAR NULL
); 